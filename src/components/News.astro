---
import { siteConfig } from "../config";
const news = siteConfig.news ?? [];
const accent = siteConfig.accentColor ?? "#1d4ed8";
---
<section id="news" class="max-w-5xl mx-auto px-6 py-12">
  <div class="flex items-center justify-between mb-8">
    <h2 class="text-3xl font-bold font-mono">News & Updates</h2>
  </div>

  { news.length === 0 ? (
    <p class="text-gray-600 font-mono">No updates yet — I’ll post talks, posters and conference updates here.</p>
  ) : (
    <div class="grid gap-5 sm:grid-cols-2">
      {news.map((item) => (
        <article class="relative rounded-2xl border border-gray-200 p-4 bg-white/60 shadow-sm">
          <div class="flex items-start gap-4">
            <div class="flex-shrink-0">
              <div class="text-xs font-mono px-3 py-2 rounded-md bg-gray-100 border border-gray-200">
                {item.date}
              </div>
            </div>

            <div class="flex-1">
              <div class="flex items-center justify-between">
                <h3 class="font-semibold font-mono text-lg">{item.title}</h3>
                {item.type && (
                  <span class="text-xs font-mono px-2 py-1 rounded-md border border-gray-200 text-gray-600">
                    {item.type}
                  </span>
                )}
              </div>

              {item.description && (
                <p class="mt-2 text-sm text-gray-700 leading-relaxed font-mono">{item.description}</p>
              )}

              <div class="mt-4 flex items-center gap-3">
                {item.url ? (
                  <a
                    href={item.url}
                    target="_blank"
                    rel="noopener noreferrer"
                    class="inline-flex items-center gap-2 text-sm font-mono px-3 py-1 rounded-lg border"
                    style={`border-color: ${accent}; color: ${accent};`}
                  >
                    View
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M14 3h7v7M10 14L21 3M21 3l-7 7M3 21h18" />
                    </svg>
                  </a>
                ) : (
                  <span class="text-xs text-gray-500 font-mono">No external link</span>
                )}
              </div>
            </div>
          </div>
        </article>
      ))}
    </div>
  ) }
</section>
